{"version":3,"file":"gatsby-node.js","names":["handleCreateNodeFromData","item","nodeType","helpers","nodeMetadata","id","createNodeId","bigcommerce_id","parent","children","internal","type","content","handleConversionObjectToString","contentDigest","createContentDigest","node","Object","assign","createNode","exports","onPreInit","logLevels","levels","info","colors","addColors","combine","timestamp","colorize","simple","format","logger","createLogger","level","transports","Console","onCreateWebpackConfig","actions","setWebpackConfig","resolve","fallback","crypto","https","zlib","sourceNodes","pluginOptions","endpoints","clientId","secret","storeHash","accessToken","siteUrl","preview","logLevel","agent","responseType","headers","sanitizedSiteUrl","handleConversionStringToLowercase","sanitizedLogLevel","sanitizeResponseType","error","debug","errMessage","BC","BigCommerce","keys","length","Promise","all","entries","map","nodeName","endpoint","get","then","res","resData","Array","isArray","data","datum","catch","err","Error","finally","IS_DEV","body","scope","is_active","destination","BIGCOMMERCE_WEBHOOK_API_ENDPOINT","post","server","micro","req","request","json","productId","newProduct","nodeToUpdate","end","listen","onCreateDevServer","app","use","createProxyMiddleware","target","secure"],"sources":["src/gatsby-node.js"],"sourcesContent":["\"use strict\";\n\nimport { createProxyMiddleware } from \"http-proxy-middleware\";\nimport micro from \"micro\";\nimport { addColors, createLogger, format, transports } from \"winston\";\nimport { BIGCOMMERCE_WEBHOOK_API_ENDPOINT, IS_DEV } from \"./constants\";\nimport BigCommerce from \"./utils/bigcommerce\";\nimport { handleConversionObjectToString, handleConversionStringToLowercase } from \"./utils/convertValues\";\n\n/**\n * ============================================================================\n * Helper functions and constants\n * ============================================================================\n */\nconst handleCreateNodeFromData = (item, nodeType, helpers) => {\n\tconst nodeMetadata = {\n\t\t...item,\n\t\tid: helpers.createNodeId(`${nodeType}-${item.id}`),\n\t\tbigcommerce_id: item.id,\n\t\tparent: null,\n\t\tchildren: [],\n\t\tinternal: {\n\t\t\ttype: nodeType,\n\t\t\tcontent: handleConversionObjectToString(item),\n\t\t\tcontentDigest: helpers.createContentDigest(item)\n\t\t}\n\t};\n\n\tconst node = Object.assign({}, item, nodeMetadata);\n\n\thelpers.createNode(node);\n\n\treturn node;\n};\n\n/**\n * ============================================================================\n * Verify plugin loads and check for required plugin options\n * ============================================================================\n */\nexports.onPreInit = () => {\n\t// Add custom log levels\n\tconst logLevels = {\n\t\tlevels: {\n\t\t\tinfo: 1\n\t\t},\n\t\tcolors: {\n\t\t\tinfo: \"bold green\"\n\t\t}\n\t};\n\n\t// Add console colors\n\taddColors(logLevels.colors);\n\n\tconst { combine, timestamp, colorize, simple } = format;\n\n\t// Init `winston` logger\n\tconst logger = createLogger({\n\t\tlevel: \"info\",\n\t\tlevels: logLevels.levels,\n\t\tformat: combine(colorize(), simple(), timestamp()),\n\t\ttransports: [new transports.Console()]\n\t});\n\n\tlogger.info(\"`gatsby-source-bigcommerce` plugin loaded successfully.\");\n};\n\n/**\n * ============================================================================\n * Override Gatsby default Webpack configuration\n * ============================================================================\n */\nexports.onCreateWebpackConfig = async ({ actions }) => {\n\tactions.setWebpackConfig({\n\t\tresolve: {\n\t\t\tfallback: { crypto: false, https: false, zlib: false }\n\t\t}\n\t});\n};\n\n/**\n * ============================================================================\n * Source and cache nodes from the BigCommerce API\n * ============================================================================\n */\nexports.sourceNodes = async ({ actions, createNodeId, createContentDigest }, pluginOptions) => {\n\tconst { createNode } = actions;\n\tconst { endpoints = null, clientId = null, secret = null, storeHash = null, accessToken = null, siteUrl = null, preview = false, logLevel = \"info\", agent = null, responseType = \"json\", headers = {} } = pluginOptions;\n\n\tconst helpers = Object.assign({}, actions, {\n\t\tcreateContentDigest,\n\t\tcreateNodeId\n\t});\n\n\tconst sanitizedSiteUrl = handleConversionStringToLowercase(siteUrl);\n\tconst sanitizedLogLevel = handleConversionStringToLowercase(logLevel);\n\tconst sanitizeResponseType = handleConversionStringToLowercase(responseType);\n\n\t// Add custom log levels\n\tconst logLevels = {\n\t\tlevels: {\n\t\t\terror: 0,\n\t\t\tdebug: 1,\n\t\t\tinfo: 2\n\t\t},\n\t\tcolors: {\n\t\t\terror: \"bold red\",\n\t\t\tdebug: \"bold blue\",\n\t\t\tinfo: \"bold green\"\n\t\t}\n\t};\n\n\t// Add console colors\n\taddColors(logLevels.colors);\n\n\tconst { combine, timestamp, colorize, simple } = format;\n\n\t// Init `winston` logger\n\tconst logger = createLogger({\n\t\tlevel: sanitizedLogLevel,\n\t\tlevels: logLevels.levels,\n\t\tformat: combine(colorize(), simple(), timestamp()),\n\t\ttransports: [new transports.Console()]\n\t});\n\n\t// Custom variables\n\tlet errMessage = \"\";\n\n\tlogger.info(\"Checking BigCommerce plugin options...\");\n\n\tif (endpoints !== null && clientId !== null && secret !== null && storeHash !== null && accessToken !== null) {\n\t\t// Init new `BigCommerce` instance\n\t\tconst BC = new BigCommerce({\n\t\t\tclientId: clientId,\n\t\t\taccessToken: accessToken,\n\t\t\tsecret: secret,\n\t\t\tstoreHash: storeHash,\n\t\t\tresponseType: sanitizeResponseType,\n\t\t\tlogger: logger,\n\t\t\tagent: agent,\n\t\t\theaders: headers\n\t\t});\n\n\t\t// Handle fetching and creating nodes for a single or multiple endpoints\n\t\tif (endpoints && typeof endpoints === \"object\" && Object.keys(endpoints).length > 0) {\n\t\t\t// Send log message when fetching data\n\t\t\tlogger.info(\"Valid plugin options found. Proceeding with plugin initialization...\");\n\t\t\tlogger.info(\"Requesting endpoint data...\");\n\n\t\t\tawait Promise.all(\n\t\t\t\tObject.entries(endpoints).map(([nodeName, endpoint]) => {\n\t\t\t\t\treturn BC.get(endpoint).then((res) => {\n\t\t\t\t\t\t// If the data object is not on the response, it could be `v2` which returns an array as the root, so use that as a fallback\n\t\t\t\t\t\tconst resData = \"data\" in res && Array.isArray(res.data) ? res.data : res;\n\n\t\t\t\t\t\t// Handle generating nodes\n\t\t\t\t\t\treturn \"data\" in res && Array.isArray(res.data)\n\t\t\t\t\t\t\t? resData.map((datum) => handleCreateNodeFromData(datum, nodeName, helpers))\n\t\t\t\t\t\t\t: Array.isArray(res)\n\t\t\t\t\t\t\t? res.map((datum) => handleCreateNodeFromData(datum, nodeName, helpers))\n\t\t\t\t\t\t\t: handleCreateNodeFromData(resData, nodeName, helpers);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t)\n\t\t\t\t.then(() => {\n\t\t\t\t\t// Send log message when all endpoints have been fetched\n\t\t\t\t\tlogger.info(\"All endpoint data have been fetched successfully.\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\t// Send log message when an error occurs\n\t\t\t\t\terrMessage = new Error(`An error occurred while fetching endpoint data. ${err}`);\n\t\t\t\t})\n\t\t\t\t.finally(() =>\n\t\t\t\t\t// Send log message when fetching data is complete\n\t\t\t\t\tlogger.info(\"Requesting endpoint data complete.\")\n\t\t\t\t);\n\t\t} else {\n\t\t\terrMessage = new Error(\"The `endpoints` object is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\tif (IS_DEV && preview && sanitizedSiteUrl !== null) {\n\t\t\tlogger.info(\"Preview mode enabled. Subscribing you to BigCommerce API webhook...\");\n\n\t\t\t// Make a `POST` request to the BigCommerce API to subscribe to its webhook\n\t\t\tconst body = {\n\t\t\t\tscope: \"store/product/updated\",\n\t\t\t\tis_active: true,\n\t\t\t\tdestination: `${sanitizedSiteUrl}/__BCPreview`\n\t\t\t};\n\n\t\t\tawait BC.get(BIGCOMMERCE_WEBHOOK_API_ENDPOINT)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (\"data\" in res && Object.keys(res.data).length > 0) {\n\t\t\t\t\t\tlogger.info(\"BigCommerce API webhook subscription already exists. Skipping subscription...\");\n\t\t\t\t\t\tlogger.info(\"BigCommerce API webhook subscription complete. Running preview server...\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(async () =>\n\t\t\t\t\t\t\tawait BC.post(BIGCOMMERCE_WEBHOOK_API_ENDPOINT, body).then((res) => {\n\t\t\t\t\t\t\t\tif (\"data\" in res && Object.keys(res.data).length > 0) {\n\t\t\t\t\t\t\t\t\tlogger.info(\"BigCommerce API webhook subscription created successfully. Running preview server...\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}))();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst server = micro(async (req, res) => {\n\t\t\t\t\t\tconst request = await micro.json(req);\n\t\t\t\t\t\tconst productId = request.data.id;\n\n\t\t\t\t\t\t// Webhooks don't send any data, so we need to make a request to the BigCommerce API to get the product data\n\t\t\t\t\t\tconst newProduct = await BC.get(`/catalog/products/${productId}`);\n\t\t\t\t\t\tconst nodeToUpdate = newProduct.data;\n\n\t\t\t\t\t\tif (nodeToUpdate.id) {\n\t\t\t\t\t\t\tcreateNode({\n\t\t\t\t\t\t\t\t...nodeToUpdate,\n\t\t\t\t\t\t\t\tid: createNodeId(`${nodeToUpdate?.id ?? `BigCommerceNode`}`),\n\t\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\tinternal: {\n\t\t\t\t\t\t\t\t\ttype: `BigCommerceNode`,\n\t\t\t\t\t\t\t\t\tcontentDigest: createContentDigest(nodeToUpdate)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tlogger.info(`Updated node: ${nodeToUpdate.id}`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Send a response back to the BigCommerce API\n\t\t\t\t\t\tres.end(\"ok\");\n\t\t\t\t\t});\n\n\t\t\t\t\tserver.listen(8033, logger.info(`Now listening to changes for live preview at /__BCPreview`));\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\terrMessage = new Error(`An error occurred while creating BigCommerce API webhook subscription. ${err}`);\n\t\t\t\t});\n\t\t}\n\t} else {\n\t\t// If `endpoints` is null, throw an error\n\t\tif (endpoints == null) {\n\t\t\terrMessage = new Error(\"The `endpoints` are required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `clientId` is null, throw an error\n\t\tif (clientId == null) {\n\t\t\terrMessage = new Error(\"The `clientId` is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `secret` is null, throw an error\n\t\tif (secret == null) {\n\t\t\terrMessage = new Error(\"The `secret` is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `storeHash` is null, throw an error\n\t\tif (storeHash == null) {\n\t\t\terrMessage = new Error(\"The `storeHash` is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `accessToken` is null, throw an error\n\t\tif (accessToken == null) {\n\t\t\terrMessage = new Error(\"The `accessToken` is required to make any call to the BigCommerce API\");\n\t\t}\n\t}\n\n\tif (errMessage !== \"\") {\n\t\tconst exitMessage = \"Plugin terminated with errors...\";\n\n\t\tlogger.error(`${exitMessage}`);\n\n\t\tthrow errMessage;\n\t}\n};\n\n/**\n * ============================================================================\n * Create a dev server for previewing the site when `preview` is enabled\n * ============================================================================\n */\nexports.onCreateDevServer = ({ app }) =>\n\tapp.use(\n\t\t\"/__BCPreview/\",\n\t\tcreateProxyMiddleware({\n\t\t\ttarget: `http://localhost:8033`,\n\t\t\tsecure: false\n\t\t})\n\t);\n"],"mappings":"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"}