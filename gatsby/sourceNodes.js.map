{"version":3,"file":"sourceNodes.js","names":["exports","sourceNodes","configOptions","actions","createNodeId","createContentDigest","createNode","endpoints","clientId","secret","storeHash","accessToken","siteUrl","preview","logLevel","agent","responseType","headers","sanitizedSiteUrl","handleConversionStringToLowercase","sanitizedLogLevel","sanitizeResponseType","logLevels","levels","error","debug","warn","info","colors","combine","format","timestamp","colorize","simple","addColors","logger","createLogger","level","transports","Console","errMessage","BC","BigCommerce","Object","keys","length","Promise","all","entries","map","nodeName","endpoint","get","then","res","resData","Array","isArray","data","datum","id","bigcommerce_id","parent","children","internal","type","content","handleConversionObjectToString","contentDigest","catch","err","Error","finally","IS_DEV","webhookEndpoint","body","scope","is_active","destination","post","server","micro","req","json","request","productId","newProduct","nodeToUpdate","end","listen","exitMessage","onCreateDevServer","app","use","createProxyMiddleware","target","secure"],"sources":["../src/gatsby/sourceNodes.js"],"sourcesContent":["/* eslint-disable no-undef */\n\"use strict\";\n\nimport { createProxyMiddleware } from \"http-proxy-middleware\";\nimport micro from \"micro\";\nimport { addColors, createLogger, format, transports } from \"winston\";\nimport { IS_DEV } from \"../constants\";\nimport BigCommerce from \"../utils/bigcommerce\";\nimport { handleConversionObjectToString, handleConversionStringToLowercase } from \"../utils/convertValues\";\n\nexports.sourceNodes = async ({ actions, createNodeId, createContentDigest }, configOptions) => {\n\tconst { createNode } = actions;\n\tconst { endpoints = null, clientId = null, secret = null, storeHash = null, accessToken = null, siteUrl = null, preview = false, logLevel = \"info\", agent = null, responseType = \"json\", headers = {} } = configOptions;\n\n\tconst sanitizedSiteUrl = handleConversionStringToLowercase(siteUrl);\n\tconst sanitizedLogLevel = handleConversionStringToLowercase(logLevel);\n\tconst sanitizeResponseType = handleConversionStringToLowercase(responseType);\n\n\t// Add custom log levels\n\tconst logLevels = {\n\t\tlevels: {\n\t\t\terror: 0,\n\t\t\tdebug: 1,\n\t\t\twarn: 2,\n\t\t\tinfo: 4\n\t\t},\n\t\tcolors: {\n\t\t\terror: \"bold red\",\n\t\t\tdebug: \"bold blue\",\n\t\t\twarn: \"bold yellow\",\n\t\t\tinfo: \"bold green\"\n\t\t}\n\t};\n\n\tconst { combine, timestamp, colorize, simple } = format;\n\n\t// Add console colors\n\taddColors(logLevels.colors);\n\n\t// Init `winston` logger\n\tconst logger = createLogger({\n\t\tlevel: sanitizedLogLevel,\n\t\tlevels: logLevels.levels,\n\t\tformat: combine(colorize(), simple(), timestamp()),\n\t\ttransports: [new transports.Console()]\n\t});\n\n\t// Custom variables\n\tlet errMessage = \"\";\n\n\t// Send log message when checking for required options\n\tlogger.info(\"Checking BigCommerce plugin options... \");\n\n\tif (endpoints !== null && clientId !== null && secret !== null && storeHash !== null && accessToken !== null) {\n\t\t// Init new `BigCommerce` instance\n\t\tconst BC = new BigCommerce({\n\t\t\tclientId: clientId,\n\t\t\taccessToken: accessToken,\n\t\t\tsecret: secret,\n\t\t\tstoreHash: storeHash,\n\t\t\tresponseType: sanitizeResponseType,\n\t\t\tlogger: logger,\n\t\t\tagent: agent,\n\t\t\theaders: headers\n\t\t});\n\n\t\t// Handle fetching and creating nodes for a single or multiple endpoints\n\t\tif (endpoints && typeof endpoints === \"object\" && Object.keys(endpoints).length > 0) {\n\t\t\t// Send log message when fetching data\n\t\t\tlogger.info(\"Valid plugin options found. Proceeding with plugin initialization...\");\n\t\t\tlogger.info(\"Requesting endpoint data...\");\n\n\t\t\tawait Promise.all(\n\t\t\t\tObject.entries(endpoints).map(([nodeName, endpoint]) => {\n\t\t\t\t\treturn BC.get(endpoint).then((res) => {\n\t\t\t\t\t\t// If the data object is not on the response, it could be `v2` which returns an array as the root, so use that as a fallback\n\t\t\t\t\t\tconst resData = \"data\" in res && Array.isArray(res.data) ? res.data : res;\n\n\t\t\t\t\t\t// Handle generating nodes\n\t\t\t\t\t\treturn \"data\" in res && Array.isArray(res.data)\n\t\t\t\t\t\t\t? resData.map((datum) =>\n\t\t\t\t\t\t\t\t\tcreateNode({\n\t\t\t\t\t\t\t\t\t\t...datum,\n\t\t\t\t\t\t\t\t\t\tid: createNodeId(`${datum.id + \"-\" + nodeName}`),\n\t\t\t\t\t\t\t\t\t\tbigcommerce_id: datum.id,\n\t\t\t\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t\t\tinternal: {\n\t\t\t\t\t\t\t\t\t\t\ttype: nodeName,\n\t\t\t\t\t\t\t\t\t\t\tcontent: handleConversionObjectToString(datum),\n\t\t\t\t\t\t\t\t\t\t\tcontentDigest: createContentDigest(datum)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: Array.isArray(res)\n\t\t\t\t\t\t\t? res.map((datum) =>\n\t\t\t\t\t\t\t\t\tcreateNode({\n\t\t\t\t\t\t\t\t\t\t...datum,\n\t\t\t\t\t\t\t\t\t\tid: createNodeId(`${datum.id + \"-\" + nodeName}`),\n\t\t\t\t\t\t\t\t\t\tbigcommerce_id: datum.id,\n\t\t\t\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t\t\tinternal: {\n\t\t\t\t\t\t\t\t\t\t\ttype: nodeName,\n\t\t\t\t\t\t\t\t\t\t\tcontent: handleConversionObjectToString(datum),\n\t\t\t\t\t\t\t\t\t\t\tcontentDigest: createContentDigest(datum)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: createNode({\n\t\t\t\t\t\t\t\t\t...resData,\n\t\t\t\t\t\t\t\t\tid: createNodeId(`${resData.id + \"-\" + nodeName}`),\n\t\t\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t\tinternal: {\n\t\t\t\t\t\t\t\t\t\ttype: nodeName,\n\t\t\t\t\t\t\t\t\t\tcontent: handleConversionObjectToString(resData),\n\t\t\t\t\t\t\t\t\t\tcontentDigest: createContentDigest(resData)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  });\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t)\n\t\t\t\t.then(() => {\n\t\t\t\t\t// Send log message when all endpoints have been fetched\n\t\t\t\t\tlogger.info(\"All endpoint data have been fetched successfully.\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\t// Send log message when an error occurs\n\t\t\t\t\terrMessage = new Error(`An error occurred while fetching endpoint data. ${err}`);\n\t\t\t\t})\n\t\t\t\t.finally(() =>\n\t\t\t\t\t// Send log message when fetching data is complete\n\t\t\t\t\tlogger.info(\"Requesting endpoint data complete.\")\n\t\t\t\t);\n\t\t} else {\n\t\t\terrMessage = new Error(\"The `endpoints` object is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\tif (IS_DEV && preview && sanitizedSiteUrl !== null) {\n\t\t\t// Make a `POST` request to the BigCommerce API to subscribe to its webhook\n\t\t\tconst webhookEndpoint = \"/v3/hooks\";\n\t\t\tconst body = {\n\t\t\t\tscope: \"store/product/updated\",\n\t\t\t\tis_active: true,\n\t\t\t\tdestination: `${sanitizedSiteUrl}/__BCPreview`\n\t\t\t};\n\n\t\t\tawait BC.get(webhookEndpoint).then((res) => {\n\t\t\t\tif (\"data\" in res && Object.keys(res.data).length > 0) {\n\t\t\t\t\treturn res.data;\n\t\t\t\t} else return (async () => await BC.post(webhookEndpoint, body).then((res) => res))();\n\t\t\t});\n\n\t\t\tconst server = micro(async (req, res) => {\n\t\t\t\tconst request = await micro.json(req);\n\t\t\t\tconst productId = request.data.id;\n\n\t\t\t\t// Webhooks don't send any data, so we need to make a request to the BigCommerce API to get the product data\n\t\t\t\tconst newProduct = await BC.get(`/catalog/products/${productId}`);\n\t\t\t\tconst nodeToUpdate = newProduct.data;\n\n\t\t\t\tif (nodeToUpdate.id) {\n\t\t\t\t\tcreateNode({\n\t\t\t\t\t\t...nodeToUpdate,\n\t\t\t\t\t\tid: createNodeId(`${nodeToUpdate?.id ?? `BigCommerceNode`}`),\n\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\tinternal: {\n\t\t\t\t\t\t\ttype: `BigCommerceNode`,\n\t\t\t\t\t\t\tcontentDigest: createContentDigest(nodeToUpdate)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tlogger.info(`Updated node: ${nodeToUpdate.id}`);\n\t\t\t\t}\n\n\t\t\t\t// Send a response back to the BigCommerce API\n\t\t\t\tres.end(\"ok\");\n\t\t\t});\n\n\t\t\tserver.listen(8033, logger.info(`Now listening to changes for live preview at /__BCPreview`));\n\t\t}\n\t} else {\n\t\t// If `endpoints` is null, throw an error\n\t\tif (endpoints == null) {\n\t\t\terrMessage = new Error(\"The `endpoints` are required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `clientId` is null, throw an error\n\t\tif (clientId == null) {\n\t\t\terrMessage = new Error(\"The `clientId` is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `secret` is null, throw an error\n\t\tif (secret == null) {\n\t\t\terrMessage = new Error(\"The `secret` is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `storeHash` is null, throw an error\n\t\tif (storeHash == null) {\n\t\t\terrMessage = new Error(\"The `storeHash` is required to make any call to the BigCommerce API\");\n\t\t}\n\n\t\t// If `accessToken` is null, throw an error\n\t\tif (accessToken == null) {\n\t\t\terrMessage = new Error(\"The `accessToken` is required to make any call to the BigCommerce API\");\n\t\t}\n\t}\n\n\tif (errMessage !== \"\") {\n\t\tconst exitMessage = \"Plugin terminated with errors...\";\n\n\t\tlogger.error(`${exitMessage}`);\n\n\t\tthrow errMessage;\n\t}\n};\n\nexports.onCreateDevServer = ({ app }) => {\n\tapp.use(\n\t\t\"/__BCPreview/\",\n\t\tcreateProxyMiddleware({\n\t\t\ttarget: `http://localhost:8033`,\n\t\t\tsecure: false\n\t\t})\n\t);\n};\n"],"mappings":"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"}